var Client;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{performAction:()=>n});function n(e){const t=document.getElementById("dateField").value;console.log(t);document.getElementById("feelings").value;const n=document.getElementById("city").value,r=new Date(t).getTime(),d=Math.round((r-o.getTime())/864e5+1);console.log(d),a("http://api.geonames.org/searchJSON?q=",n,"&maxRows=1&username=icufishmg").then((function(e){l("/travelinfo",{long:`${e.geonames[0].lng}°`,lat:`${e.geonames[0].lat}°`,country:e.geonames[0].countryName,travelDate:t,daysCountdown:d}).then(c())}))}document.getElementById("generate").addEventListener("click",n);let o=new Date;o.getMonth(),o.getDate(),o.getFullYear();const a=async(e,t,n)=>{const o=await fetch(e+t+n);try{const e=await o.json();return console.log(e),e}catch(e){console.log("error",e)}},l=async(e="",t={})=>{await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},c=async()=>{const e=await fetch("/projectdata");try{const t=await e.json();console.log(t),document.getElementById("entry").className="holderResponse",document.getElementById("content").innerHTML=`Country: ${t.slice(-1)[0].country}`,document.getElementById("date").innerHTML=`Latitude: ${t.slice(-1)[0].latitude}`,document.getElementById("temp").innerHTML=`Longitude: ${t.slice(-1)[0].longitude}`,document.getElementById("travelDate").innerHTML=`Travel Date: ${t.slice(-1)[0].travelDate}`,document.getElementById("daysCountdown").innerHTML=`Days Until Travel: ${t.slice(-1)[0].daysCountdown}`}catch(e){console.log("error",e)}};Client=t})();